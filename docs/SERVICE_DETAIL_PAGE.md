# üìÑ Service Detail Page - Documentaci√≥n

## Descripci√≥n General

P√°gina de detalle de servicio completa que muestra toda la informaci√≥n de un servicio espec√≠fico cuando el usuario hace clic desde la lista de servicios o categor√≠as.

## üéØ Ruta

```
/services/[id]
```

**Ejemplos:**

- `/services/srv-001` ‚Üí Fugas de Agua
- `/services/srv-002` ‚Üí Instalaci√≥n El√©ctrica
- `/services/srv-003` ‚Üí Pintura de Interiores

## üèóÔ∏è Arquitectura

### Separaci√≥n de Capas

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           PRESENTACI√ìN (UI)                 ‚îÇ
‚îÇ  - ServiceHero, ServiceDetails, etc.        ‚îÇ
‚îÇ  - Componentes puros (props ‚Üí JSX)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           L√ìGICA (Hooks)                    ‚îÇ
‚îÇ  - useServiceDetail, useProviders           ‚îÇ
‚îÇ  - useReviews                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           DATOS (JSON Mock)                 ‚îÇ
‚îÇ  - services.json, providers.json            ‚îÇ
‚îÇ  - reviews.json                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Estructura de Archivos

```
app/services/[id]/
‚îî‚îÄ‚îÄ page.tsx                          # Orquestador principal

components/service-detail/
‚îú‚îÄ‚îÄ ServiceHero.tsx                   # Hero con imagen e info
‚îú‚îÄ‚îÄ ServiceDetails.tsx                # Detalles y caracter√≠sticas
‚îú‚îÄ‚îÄ ProvidersList.tsx                 # Lista de proveedores
‚îú‚îÄ‚îÄ ReviewsSection.tsx                # Rese√±as y ratings
‚îú‚îÄ‚îÄ ServiceCTA.tsx                    # CTA final
‚îî‚îÄ‚îÄ ServiceDetailSkeleton.tsx         # Loading state

components/
‚îú‚îÄ‚îÄ ReviewCard.tsx                    # Card de rese√±a (reutilizable)
‚îî‚îÄ‚îÄ ProviderCard.tsx                  # Card de proveedor (reutilizable)

hooks/
‚îú‚îÄ‚îÄ useServiceDetail.ts               # Obtener servicio por ID
‚îú‚îÄ‚îÄ useProviders.ts                   # Obtener proveedores
‚îî‚îÄ‚îÄ useReviews.ts                     # Obtener rese√±as

data/
‚îú‚îÄ‚îÄ services.json                     # Servicios (ya exist√≠a)
‚îú‚îÄ‚îÄ providers.json                    # Proveedores (nuevo)
‚îî‚îÄ‚îÄ reviews.json                      # Rese√±as (nuevo)
```

## üß© Componentes Principales

### 1. ServiceHero

**Prop√≥sito:** Hero section con informaci√≥n principal

**Props:**

```typescript
{
  service: Service;
  onStartRequest: () => void;
}
```

**Caracter√≠sticas:**

- Layout 2 columnas (responsive)
- Gradiente azul de fondo
- Imagen del servicio (aspect-ratio 4:3)
- Badge de categor√≠a
- Rating con estrellas
- Precio formateado seg√∫n tipo
- Tags del servicio
- Bot√≥n CTA principal

**Dise√±o:**

- Desktop: imagen izquierda, info derecha
- Mobile: stack vertical

---

### 2. ServiceDetails

**Prop√≥sito:** Informaci√≥n detallada y caracter√≠sticas

**Props:**

```typescript
{
  service: Service;
}
```

**Muestra:**

- Descripci√≥n extendida del servicio
- 4 caracter√≠sticas destacadas con iconos:
  - ‚úì Servicio Certificado
  - üõ°Ô∏è Garant√≠a Incluida
  - ‚è±Ô∏è Respuesta R√°pida
  - üèÜ Alta Calificaci√≥n
- Disponibilidad por d√≠as (pills interactivas)

**Features Grid:**

- 2 columnas en desktop
- 1 columna en mobile
- Iconos de Lucide React

---

### 3. ProvidersList

**Prop√≥sito:** Mostrar profesionales que ofrecen el servicio

**Props:**

```typescript
{
  providers: ProviderData[];
  isLoading: boolean;
}
```

**Comportamiento:**

- Se oculta si no hay proveedores
- Muestra skeleton mientras carga
- Grid 2 columnas (responsive)
- Cada proveedor en ProviderCard

---

### 4. ReviewsSection

**Prop√≥sito:** Rese√±as y calificaciones

**Props:**

```typescript
{
  reviews: Review[];
  averageRating: number;
  totalReviews: number;
  isLoading: boolean;
}
```

**Caracter√≠sticas:**

- Promedio visual grande (ej: 4.8/5)
- Distribuci√≥n de estrellas con barras de progreso
- Lista de hasta 5 rese√±as
- Bot√≥n "Ver todas" si hay m√°s de 5
- Estado vac√≠o si no hay rese√±as

**Layout:**

- Desktop: resumen en 3 columnas
- Mobile: stack vertical

---

### 5. ServiceCTA

**Prop√≥sito:** CTA final para conversi√≥n

**Props:**

```typescript
{
  onContactClick: () => void;
}
```

**Caracter√≠sticas:**

- Fondo gradiente azul
- Iconos decorativos
- Texto motivacional
- Bot√≥n grande con hover effects
- Mensaje de garant√≠a

---

## ü™ù Custom Hooks

### useServiceDetail(serviceId)

Obtiene los datos de un servicio por ID desde `services.json`.

**Retorna:**

```typescript
{
  service: Service | null;
  isLoading: boolean;
  error: Error | null;
}
```

**Comportamiento:**

- Simula delay de 600ms
- Retorna `null` si no encuentra el servicio
- Maneja errores de carga

---

### useProviders(serviceId)

Obtiene proveedores que ofrecen un servicio desde `providers.json`.

**Retorna:**

```typescript
{
  providers: ProviderData[];
  isLoading: boolean;
  error: Error | null;
}
```

**Filtrado:**
Busca proveedores donde `serviceIds` incluya el `serviceId` actual.

---

### useReviews(serviceId)

Obtiene rese√±as de un servicio desde `reviews.json`.

**Retorna:**

```typescript
{
  reviews: Review[];
  isLoading: boolean;
  error: Error | null;
}
```

**Filtrado:**
Busca rese√±as donde `serviceId` coincida.

---

## üìä Estados de la P√°gina

### 1. Loading State

```tsx
<ServiceDetailSkeleton />
```

- Skeletons animados para todas las secciones
- Gradiente de fondo para hero
- Placeholders para contenido

### 2. Error State

- Icono de alerta rojo
- Mensaje de error descriptivo
- Bot√≥n "Intentar de nuevo"

### 3. Not Found State

- Icono de alerta amarillo
- Mensaje "Servicio no encontrado"
- Bot√≥n "Volver al inicio"

### 4. Success State

- Renderiza todas las secciones
- Oculta ProvidersList si est√° vac√≠a
- Muestra ReviewsSection (con estado vac√≠o si no hay rese√±as)

---

## üé® Dise√±o Visual

### Paleta de Colores

```css
/* Usamos design tokens */
--color-primary: #012c5b          /* Azul oscuro */
--color-primary-dark: #004a9a     /* Azul m√°s oscuro */
--color-primary-light: #0066cc    /* Azul claro */
--color-primary-low: #9bccfd      /* Azul muy claro */
```

### Tipograf√≠a

```css
/* Headings */
.heading-xl    /* Hero title - 48px */
/* Hero title - 48px */
.heading-lg    /* Section titles - 36px */
.heading-md    /* Subsections - 30px */
.heading-sm    /* Card titles - 24px */

/* Body */
.body-lg       /* 18px - descriptions */
.body-base     /* 16px - normal text */
.body-sm; /* 14px - metadata */
```

### Espaciado

```css
/* Sections */
<Section size="md">  /* 64px padding */

/* Cards */
p-6, p-8            /* 24px, 32px padding */

/* Gaps */
gap-4, gap-6, gap-8  /* 16px, 24px, 32px */
```

### Componentes Shadcn

- ‚úÖ Card
- ‚úÖ Badge
- ‚úÖ Button
- ‚úÖ Avatar (v√≠a img tag)

---

## üì± Responsive Design

### Mobile (< 768px)

- Hero: stack vertical (imagen arriba)
- Features: 1 columna
- Providers: 1 columna
- Reviews: resumen vertical

### Desktop (‚â• 768px)

- Hero: 2 columnas (imagen + info)
- Features: 2 columnas
- Providers: 2 columnas
- Reviews: resumen 3 columnas

---

## üîó Navegaci√≥n

### Links Entrantes

```tsx
// Desde ServiceCard
<Link href={`/services/${service.id}`}>
  <ServiceCard service={service} />
</Link>
```

### Links Salientes (Futuros)

- "Ver perfil" en ProviderCard ‚Üí `/providers/[id]`
- Modales internos (request, contacto)

---

## üöÄ Funcionalidad Futura

### Modales Pendientes

1. **Request Modal**
   - Trigger: "Comenzar request"
   - Formulario de solicitud
2. **Contact Modal**
   - Trigger: "Hablar con especialista"
   - Formulario de contacto r√°pido

### Backend Integration

Reemplazar hooks mock por:

```typescript
// Con React Query
const { data } = useQuery({
  queryKey: ["service", serviceId],
  queryFn: () => apiClient.getService(serviceId),
});
```

**Endpoints:**

- `GET /api/services/:id`
- `GET /api/services/:id/providers`
- `GET /api/services/:id/reviews`

---

## üìù Datos Mock

### Estructura: services.json

```json
{
  "id": "srv-001",
  "title": "Fugas de Agua",
  "description": "...",
  "provider": { ... },
  "category": { ... },
  "price": 350,
  "priceType": "fixed",
  "rating": 4.8,
  "reviewCount": 127,
  "tags": ["urgente", "garant√≠a"],
  "availability": ["lunes", "martes"]
}
```

### Estructura: providers.json

```json
{
  "id": "prv-001",
  "name": "Carlos M√©ndez",
  "experience": "10 a√±os",
  "rating": 4.8,
  "completedJobs": 245,
  "serviceIds": ["srv-001"],
  "avatarUrl": "...",
  "verified": true,
  "bio": "...",
  "specialties": [...]
}
```

### Estructura: reviews.json

```json
{
  "id": "rev-001",
  "serviceId": "srv-001",
  "userId": "user-001",
  "userName": "Juan P√©rez",
  "userAvatar": "...",
  "rating": 5,
  "comment": "...",
  "createdAt": "2024-03-15T10:30:00Z"
}
```

---

## ‚úÖ Checklist de Implementaci√≥n

- ‚úÖ Datos mock (services, providers, reviews)
- ‚úÖ Hooks para data fetching
- ‚úÖ Componentes presentacionales puros
- ‚úÖ ServiceHero con gradiente y CTA
- ‚úÖ ServiceDetails con features
- ‚úÖ ProvidersList con filtrado
- ‚úÖ ReviewsSection con distribuci√≥n de estrellas
- ‚úÖ ServiceCTA con dise√±o atractivo
- ‚úÖ Loading state (skeleton)
- ‚úÖ Error handling
- ‚úÖ Not found state
- ‚úÖ Responsive design
- ‚úÖ Design tokens consistency
- ‚úÖ TypeScript tipado completo
- üöß Modales (request y contacto) - Pendiente
- üöß React Query - Pendiente
- üöß Tests - Pendiente

---

## üéØ Principios Aplicados

1. ‚úÖ **Separaci√≥n de capas:** UI ‚Üí Hooks ‚Üí Data
2. ‚úÖ **Componentes puros:** Props in, JSX out
3. ‚úÖ **TypeScript:** Tipado completo
4. ‚úÖ **Design tokens:** Variables CSS consistentes
5. ‚úÖ **Modularidad:** Componentes peque√±os y reutilizables
6. ‚úÖ **Loading states:** UX durante carga
7. ‚úÖ **Error handling:** Manejo de errores claro
8. ‚úÖ **Responsive:** Mobile-first design

---

## üîç Ejemplo de Uso

```tsx
// Navegaci√≥n autom√°tica desde ServiceCard
// El usuario hace clic en cualquier servicio

// URL: /services/srv-001
// ‚Üì
// useServiceDetail('srv-001') obtiene datos
// ‚Üì
// Renderiza:
// - Hero con imagen y datos
// - Detalles y caracter√≠sticas
// - 2 proveedores disponibles
// - 4 rese√±as (promedio 4.8)
// - CTA para contactar
```

---

## üìö Recursos

- **Design Tokens:** `DESIGN_TOKENS.md`
- **Componente Section:** `components/Section.tsx`
- **Shadcn UI:** https://ui.shadcn.com/
- **Lucide Icons:** https://lucide.dev/

---

**√öltima actualizaci√≥n:** 14 de octubre de 2025  
**Estado:** ‚úÖ Funcional con datos mock  
**Pr√≥ximos pasos:** Implementar modales de request y contacto
